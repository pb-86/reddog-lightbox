console.info("RDDGLB: Searching for galleries…");const images=document.querySelectorAll("[class*=wp-image]");if(0!==images.length){document.getElementById("rddglb-loading");const e=document.getElementById("rddglb-fullImage"),t=document.getElementById("rddglb-prevButton"),n=document.getElementById("rddglb-nextButton"),d=document.getElementById("rddglb-closeButton"),r=document.getElementById("rddglb-counter"),s=document.getElementById("rddglb-counterCurrent"),o=document.getElementById("rddglb-counterAll"),a=document.getElementById("rddglb-modal");function getFullImageSrc(e){if(e.hasAttribute("data-full-url"))return e.getAttribute("data-full-url");if(e.hasAttribute("srcset")){const t=e.getAttribute("srcset").split(",").pop().trim().split(" ")[0],n=t.substring(t.lastIndexOf("."));return t.substring(0,t.lastIndexOf("-"))+n}{const t=e.getAttribute("src").substring(e.getAttribute("src").lastIndexOf("."));return e.getAttribute("src").substring(0,e.getAttribute("src").lastIndexOf("-"))+t}}function getPrevImageIndex(e){return e-1<0?e=images.length-1:e--,e}function getNextImageIndex(e){return e>=images.length-1?e=0:e++,e}function showPrevImage(){const d=t.getAttribute("data-index");e.removeAttribute("src"),e.setAttribute("src",getFullImageSrc(images[d])),t.setAttribute("data-index",getPrevImageIndex(d)),n.setAttribute("data-index",getNextImageIndex(d)),setCounter(images.length,parseInt(d))}function showNextImage(){const d=n.getAttribute("data-index");e.removeAttribute("src"),e.setAttribute("src",getFullImageSrc(images[d])),t.setAttribute("data-index",getPrevImageIndex(d)),n.setAttribute("data-index",getNextImageIndex(d)),setCounter(images.length,parseInt(d))}function keyboardSupport(e){a.classList.contains("rddglb-modal--show")&&("ArrowLeft"===e.key&&showPrevImage(),"ArrowRight"===e.key&&showNextImage(),"Escape"===e.key&&closeModal())}function setCounter(e,t){s.innerHTML=t+1,o.innerHTML=e}function openModal(){a.classList.add("rddglb-modal--show"),document.body.classList.add("rddglb-overflow")}function closeModal(){a.classList.remove("rddglb-modal--show"),document.body.classList.remove("rddglb-overflow"),e.removeAttribute("src"),e.removeAttribute("data-index"),t.removeAttribute("data-index"),n.removeAttribute("data-index"),s.innerHTML="",o.innerHTML=""}images.forEach(function(d,s){d.addEventListener("click",function(){e.setAttribute("src",getFullImageSrc(this)),e.setAttribute("data-index",s),t.setAttribute("data-index",getPrevImageIndex(s)),n.setAttribute("data-index",getNextImageIndex(s)),images.length<=1?(t.classList.add("rddglb-modal__buttons--hide"),n.classList.add("rddglb-modal__buttons--hide"),r.classList.add("rddglb-modal__counter--hide")):setCounter(images.length,s),openModal()})}),t.addEventListener("click",showPrevImage),n.addEventListener("click",showNextImage),document.onkeydown=keyboardSupport,a.addEventListener("click",function(e){e.target===e.currentTarget&&closeModal()}),d.addEventListener("click",closeModal),console.info("RDDGLB: Ready to go!")}else console.warn("RDDGLB: It seems that there is no galleries on this page."),console.info("RDDGLB: I have nothing to do. Zzz…");